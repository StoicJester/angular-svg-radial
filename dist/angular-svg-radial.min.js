/*!
 * angular-svg-radial 0.2.0
 * (c) 2015 Vokal LLC
 * https://github.com/vokal/angular-svg-radial
 */
angular.module("svgRadial",[]).directive("asrWrap",[function(){"use strict";return{restrict:"E",replace:!0,transclude:!0,templateUrl:"templates/asrRadial.html",scope:{percent:"="},controller:function(){this.strokes=[],this.largerStroke=function(){var a;return this.strokes.forEach(function(b){var c=Number(b.slice(0,b.indexOf("px")));(!a||c>a)&&(a=c)}),a}},link:function(a,b,c,d){function e(a){return a>=0?a:0}var f=b[0].offsetWidth;a.$watch(function(){return b[0].offsetWidth},function(a){f=a}),a.style=function(){return{height:f+"px"}},a.c=function(){return Math.floor(f/2)},a.r=function(){return e(a.c()-Math.ceil(d.largerStroke()/2))}}}}]).directive("asrCircle",["$window","$timeout",function(a,b){"use strict";return{restrict:"E",templateNamespace:"svg",replace:!0,require:"^asrWrap",templateUrl:"templates/asrCircle.html",scope:{c:"=",r:"=rad",p:"="},link:function(c,d,e,f){f.strokes.push(a.getComputedStyle(d[0]).strokeWidth),c.circ=function(){return 2*c.r*Math.PI},c.offset=function(){return!c.p||c.fin()?0:c.circ()-c.p/100*c.circ()},c.fin=function(){return c.p&&c.p>=100},b(function(){d.addClass("ready")},100)}}}]),angular.module("svgRadial").run(["$templateCache",function(a){"use strict";a.put("templates/asrCircle.html",'<circle ng-attr-r="{{ r }}" ng-attr-cx="{{ c }}" ng-attr-cy="{{ c }}" ng-attr-stroke-dasharray="{{ circ() }}" ng-attr-stroke-dashoffset="{{ offset() }}" ng-attr-transform="rotate( -90, {{ c }}, {{ c }} )" ng-class="{ finished: fin() }">'),a.put("templates/asrRadial.html",'<div class="asr-wrap" data-ng-style="style()"><svg class="asr-svg" data-ng-style="style()"><asr-circle c="c()" rad="r()" class="asr-base"></asr-circle><asr-circle c="c()" rad="r()" p="percent" class="asr-radial"></asr-circle></svg><div ng-transclude></div></div>')}]);